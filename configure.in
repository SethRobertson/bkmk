#
# $Id: configure.in,v 1.16 2002/01/30 23:58:08 dupuy Exp $
#
# ++Copyright LIBBK++
#
# Copyright (c) 2001 The Authors.  All rights reserved.
#
# This source code is licensed to you under the terms of the file
# LICENSE.TXT in this release for further details.
#
# Mail <projectbaka@baka.org> for further information
#
# --Copyright LIBBK--
#
#
# Autoconf configuration
#
AC_REVISION($Revision: 1.16 $)dnl
AC_INIT(Make.bkvariables)
AC_CONFIG_AUX_DIR(acaux)

echo 
echo  "		CONFIGURING MAKEFILE VARIABLES"
echo

AC_PROG_CC

if test "$CC" "!=" "gcc"; then
   echo
   echo "WARNING: Attempting to compile without gcc may be painful."
   echo "You have been warned."
   echo
fi

AC_PROG_CXX
AC_PROG_LEX
AC_PROG_YACC
AC_PROG_CPP
AC_PROG_CXXCPP
AC_PROG_CC_C_O

AC_PROG_INSTALL
AC_PROG_LN_S

AC_LIBTOOL_WIN32_DLL
AC_LIBTOOL_DLOPEN
AC_PROG_LIBTOOL

AC_PATH_PROG(RM,rm)
AC_PATH_PROG(FALSE,false)
AC_PATH_PROGS(MV,mv cp, $FALSE)
AC_PATH_PROG(MKDIR,mkdir,$FALSE)
AC_PATH_PROGS(PWDPROG,pwd cwd, $FALSE)

AC_PATH_PROG(CAT,cat, $FALSE)
AC_PATH_PROG(BASENAME,basename, $FALSE)
AC_PATH_PROG(SED,sed, $FALSE)
AC_PATH_PROG(TEST,test, $FALSE)

AC_PATH_PROG(PERL,perl, $FALSE)

# note - don't use $PATH_SEPARATOR in this file; we always use Cygwin make

AC_PATH_PROG(JAVAC,javac, $FALSE, $PATH:/usr/java/jdk1.3.1_01/bin)
AC_PATH_PROG(JAR,jar, $FALSE, $PATH:/usr/java/jdk1.3.1_01/bin)

AC_PATH_PROG(DOXYGEN,doxygen, $FALSE)
AC_CHECK_PROG(HAVE_DOT,dot, YES, NO)
AC_PATH_PROGS(BROWSER,browser netscape konqueror mozilla iexplore.exe lynx,
	      $FALSE, $PATH:/cygdrive/c/progra~1/intern~1)

AC_PATH_PROG(AR,ar)

AC_CONSTRUCTORS
AC_CHECK_HEADERS(net/ethernet.h netinet/if_ether.h)
AC_SA_LEN
AC_FUNC_INET_PTON

AC_FUNC_MKTIME
if test $ac_cv_func_working_mktime = no; then
 AC_DEFINE(MKTIME_HAS_BUGS)
fi
AC_CHECK_FUNCS(ntohll strptime gmtime_r timegm)
AC_FUNC_STRFTIME

AC_DEFINE_UNQUOTED(PATH_SEPARATOR, "$PATH_SEPARATOR")

AC_CONFIG_HEADER(libbk_autoconf.h)

AC_OUTPUT(Make.config)
